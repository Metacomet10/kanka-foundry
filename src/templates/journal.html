<section class="kanka-container">
    <header>
        <h2>
            <a href="{{ kankaLink }}" target="_blank">{{ campaign.name }}</a>
        </h2>
    </header>

    {{#if campaign.entry }}
    <section class="campaign-description">
        {{#if campaign.image_full }}
        <img src="{{ campaign.image_full }}" alt="{{ campaign.name }}" class="campaign-image" />
        {{/if}}
        {{{ campaign.entry }}}
    </section>
    <hr/>
    {{/if}}

    <details class="locations entity-list" open>
        <summary class="action-row">
            <div>
                <i class="fas fa-compass"></i> <a href="{{ kankaLink '/locations/tree' }}" target="_blank">Locations</a>
            </div>
            <div class="actions">
                {{#if (getKankaJournalFolderName 'location') }}
                <button type="button" data-action="open-folder" data-type="location">
                    <i class="fas fa-folder"></i> {{ getKankaJournalFolderName 'location' }}
                </button>
                {{/if}}
                <button type="button" data-action="sync-folder" data-type="location">
                    <i class="fas fa-sync"></i> {{ localize 'KANKA.BrowserSyncFolder' }}
                </button>
            </div>
        </summary>
        {{#each locations as |location|}}
        <div class="action-row">
            <a href="{{ kankaLink '/locations/' location.id }}" target="_blank" data-article-id="{{ location.id }}">{{ location.name }}</a>
            <div class="actions">
                {{#if (hasKankaJournalEntry location.id) }}
                <button type="button" data-action="open-entry" data-type="location" data-id="{{ location.id }}">
                    <i class="fas fa-link"></i> {{ location.name }}
                </button>
                <button type="button" data-action="sync-entry" data-type="location" data-id="{{ location.id }}">
                    <i class="fas fa-sync"></i>
                </button>
                {{else}}
                <button type="button" data-action="link-entry" data-type="location" data-id="{{ location.id }}">
                    <i class="fas fa-link"></i>
                </button>
                {{/if}}
            </div>
        </div>
        {{/each }}
    </details>

    <hr/>
</section>
